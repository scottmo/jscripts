function $(e){if("string"==typeof e&&(e=[e]),Array.isArray(e)){for(var t of e){t=document.querySelector(t);if(t)return t}return null}return 1===e.nodeType?e:null}$.val=function(e,t){"INPUT"===e.nodeName&&"checkbox"===e.getAttribute("type")?e.checked=t:e.value=t},$.trigger=function(e,t){e=$(e);t=new Event(t,{bubbles:!0});t.simulated=!0,e.dispatchEvent(t)},$.type=function(e,t){$.val(e,t),$.trigger(e,"input"),$.trigger(e,"change")},$.component=function({host:e,api:t={},css:n={},html:o,created:i}={}){const r=document.createElement("DIV");r.innerHTML=o;for(const[d,l]of Object.entries(n))r.querySelectorAll(d).forEach(e=>{$.css(e,l)});Object.assign(r,t);o=[...template.matchAll(/\sid=['"](\w+)["']/g)].map(e=>e[1]);const a={};return o.forEach(e=>{a[e]=r.querySelector("#"+e),a[e].setAttribute("id",e+"-"+$.uuid(4))}),r.$=a,"function"==typeof i&&i.call(r),e&&$(e).appendChild(r),r},$.css=function(e,n){let t;t="string"==typeof n?n.split("\n").map(e=>e.trim()).join(""):Object.keys(n).reduce((e,t)=>e+t.split(/(?=[A-Z])/).join("-").toLowerCase()+":"+n[t]+";",""),e.setAttribute("style",t)},$.injectCSS=function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)},$.draggable=function(t){var n,o,i,r,e;function a(e){(e=e||window.event).preventDefault(),i=e.clientX,r=e.clientY,document.onmouseup=l,document.onmousemove=d,t.dragged=0}function d(e){(e=e||window.event).preventDefault(),n=i-e.clientX,o=r-e.clientY,i=e.clientX,r=e.clientY,t.style.top=t.offsetTop-o+"px",t.style.left=t.offsetLeft-n+"px",t.dragged+=n+o}function l(){document.onmouseup=null,document.onmousemove=null}(t=$(t))&&(r=i=o=n=0,(e=t.querySelector(".header"))?e.onmousedown=a:t.onmousedown=a)},$.panel=function(e,n,{isDraggable:t=!0,x:o=20,y:i=20,isDisplayed:r=!0}={}){o=$.component({host:"body",css:{".panel":{"z-index":"998",position:"absolute",top:o+"px",left:i+"px","box-shadow":"rgba(0, 0, 0, 0.2) 0px 4px 8px 0px","background-color":"white"},".header":{"z-index":"999","background-color":"rgb(33, 150, 243)",color:"rgb(255, 255, 255)","font-weight":"bold","font-size":"1.2rem","padding-top":"5px","padding-right":"5px","padding-bottom":"5px","padding-left":"5px","text-align":"center",cursor:"pointer","box-shadow":"rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 3px 1px -2px, rgba(0, 0, 0, 0.2) 0px 1px 5px 0px"},".body":{padding:"5px"}},html:`
            <div class="panel">
                <div id="header" class="header">${e}</div>
                <div id="body" class="body"></div>
            </div>
        `,api:{isDisplayed:!1,toggle(e){this.isDisplayed=null!=e?e:!this.isDisplayed,$.css(this.$.body,{display:this.isDisplayed?"block":"none"})}},created(){var{header:e,body:t}=this.$;t.appendChild(n),e.addEventListener("click",()=>{0===this.dragged&&this.toggle()}),this.toggle(r)}});return t&&$.draggable(o),o},$.uuid=function(e){var t=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16));return e?"u"+t.substring(0,e):"u"+t},$._guid=0,$.guid=function(){return $._guid++},$.waitFor=async function(i,e,r){return new Promise(t=>{let n=0;var o=setInterval(function(){var e=document.querySelector(i);(e||n>=r)&&(clearInterval(o),t(e)),n++},e)})};